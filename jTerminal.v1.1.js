$(function(){$.fn.jTerminal=function(a){$("ul").not(this).remove(),$("ul li:first").after('<div id="cursor"></div>');var b={textSize:"35px",textSpeed:1,textAlign:"left",textColor:"lime",textStyle:"normal",textBold:!1,textToUpper:!1,textToLower:!1,linkUndeline:true,linkColor:"#fff",cursorClose:!1,cursorToggle:!1,cursorSpeed:500,cursorWidth:"4px",cursorColor:"#fff",backgroundColor:"#000",toggle:!0,contextmenu:!1},a=$.extend(b,a);return 1==a.contextmenu&&$(document).bind("contextmenu",function(){return!1}),this.each(function(){function b(){var und="underline";if(a.linkUnderline==false)und="none";$("li a").css('color',a.linkColor);$("li a").css('text-decoration',und);if(r<$("li").length)if("center"==a.textAlign)if(n=$("ul li:first  #tx").width(),f>t)t++,p--,e.width(p+"px");else{t=0,r++,s+=$("ul li:eq("+d+")").height(),e=$("#cursor");var b=s+$("ul li:eq("+d+")").height();$("#kapsayici").css("margin-top",b+"px"),e.remove(),$("ul li:eq("+d+")").after('<div id="cursor"></div>'),d++,e=$("#cursor"),e.css("margin-top",s+"px"),i=$("ul li:eq("+d+") #tx"),i.css("float","left"),i.css("height","auto"),k=i.height(),j=i.width(),i.css("float","none"),i.css("margin","auto"),$("ul li:eq("+d+") #tx").css("width",j),$("ul li:eq("+d+")").css("height",k),$("ul li:eq("+d+") #tx").css("margin","auto"),o=e.width()+j,f=j,p=o/2,$("#cmd").css("font-family",a.textFont),e.height(k),"right"==a.textAlign&&"center"!=a.textAlign?(e.css("border","none"),e.css("border-right",a.cursorWidth+" solid "+a.cursorColor)):e.css("border-left",a.cursorWidth+" solid "+a.cursorColor),a.textSize?$("ul li").css("font-size",a.textSize):$("ul li").css("font-size","16px"),e.css("background-color",a.backgroundColor)}else if(p+3>m)p--,e.width(p+"px");else{r++,s+=$("ul li:eq("+d+")").height(),e=$("#cursor");var b=s+$("ul li:eq("+d+")").height();$("#kapsayici").css("margin-top",b+"px"),e.remove(),$("ul li:eq("+d+")").after('<div id="cursor"></div>'),d++,e=$("#cursor"),e.css("margin-top",s+"px"),i=$("ul li:eq("+d+")"),i.css("float","left"),j=i.width(),k=i.height(),i.css("width",j+"px"),$("ul li:eq("+d+")").css("height",k),m=e.width()-$("ul li:eq("+d+")").width(),p=e.width(),$("#cmd").css("font-family",a.textFont),e.height(k),"right"==a.textAlign&&($("ul li").css("float","right"),$("#cursor").css("left","0")),"left"==a.textAlign&&($("ul li").css("float","left"),$("#cursor").css("right","0")),"right"==a.textAlign&&"center"!=a.textAlign?(e.css("border","none"),e.css("border-right",a.cursorWidth+" solid "+a.cursorColor)):e.css("border-left",a.cursorWidth+" solid "+a.cursorColor),1==a.cursorHide&&e.css("border","none"),a.textSize?$("ul li").css("font-size",a.textSize):$("ul li").css("font-size","16px"),e.css("background-color",a.backgroundColor)}else clearInterval(q),e=$("#cursor"),"center"==a.textAlign?(e.height($("ul li #tx").height()),e.width(p+"px")):e.height($("ul li").height()),1==a.cursorToggle&&setInterval(function(){1==a.toggle?(a.toggle=!1,$("#cursor").hide(),$("button").text("son")):(a.toggle=!0,$("#cursor").show())},a.cursorSpeed),1==a.cursorClose&&e.remove()}if($("body,#kapsayici,#cursor").css("background-color",a.backgroundColor),$("li").css("color",a.textColor),a.textBold&&$("li").css("font-weight","italic"),$("li").css("font-style",a.textStyle),a.textToUpper)for(var c=0;c<$("li").length;c++)$("li:eq("+c+")").text($("li:eq("+c+")").html().toUpperCase());if(a.textToLower)for(var c=0;c<$("li").length;c++)$("li:eq("+c+")").text($("li:eq("+c+")").html().toLowerCase());a.textSize?$("ul li").css("font-size",a.textSize):$("ul li").css("font-size","16px");var d=0,e=$("#cursor");"right"==a.textAlign&&"center"!=a.textAlign?(e.css("border","none"),e.css("border-right",a.cursorWidth+" solid "+a.cursorColor)):e.css("border-left",a.cursorWidth+" solid "+a.cursorColor);for(var f=$("li:first").width(),g=0;g<$("ul li").length;g++){var h=$("li:eq("+g+")").html();var pos=h.indexOf('href=');if(pos=="-1"){h=h.replace(/ /g,"&nbsp;"),h=h.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")}else{h="&nbsp;&nbsp;&nbsp;&nbsp; "+h}$("li:eq("+g+")").html(h);var i=$("ul li:eq("+g+")"),j=i.width()+5;i.css("width",j+"px");var k=i.height();"center"==a.textAlign&&(i.css("width","100%"),$("li:eq("+g+")").text(""),$("li:eq("+g+")").html('<div id="tx">'+h+"</div>"),$("li:eq("+g+")").css("width","100%"),$("#tx:eq("+g+")").width(j+"px")),$("ul li:eq("+g+")").height(k+"px"),$("#tx:eq("+g+")").css("margin","auto"),e.height(k+"px"),$("#kapsayici").css("margin-top",k+"px")}if("center"==a.textAlign)var l=$(document).width(),m=l-$("ul li:first").width(),n=$("ul li:first  #tx").width(),o=e.width()+f,p=o/2;else var m=e.width()-$("ul li:first").width(),p=e.width();"right"==a.textAlign&&($("ul li").css("float","right"),$("#cursor").css("left","0")),"left"==a.textAlign&&($("ul li").css("float","left"),$("#cursor").css("right","0")),$("#cmd").css("font-family",a.textFont);var q=setInterval(function(){b()},a.textSpeed),r=0,s=0,t=0;$("#tx:first").width();1==a.cursorHide&&$("#cursor").hide()})}});